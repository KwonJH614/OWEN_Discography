<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Album Details</title>
    <link href="styles.css" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&display=swap" rel="stylesheet">
    <style>
        .korean {
            font-size: 18px;
            max-width: 800px;
            line-height: normal;
            font-weight: 600;
            letter-spacing: 0.7px;
        }
        .english {
            font-size: 20px;
        }
    </style>
</head>
<body>
    <header>
        <a href="index.html">OWEN</a>
        <a href="albums.html">ALBUMS</a>
    </header>
    <div class="albumCenter">
        <div class="albumInfoWrapper">
            <img class="albumImage" alt="Album Cover">
            <h1 class="albumTitle"></h1>
            <div class="albumDetailsWrapper">
                <p class="albumDescription"></p>
                <p class="albumDetails"></p>
            </div>
        </div>
    </div>
    <div class="musics"></div>
    <footer>hello</footer>
</body>
<script>
const urlParams = new URLSearchParams(window.location.search);
const receivedData = urlParams.get('data') || 'No data received';

const albumData = {
    'P.O.E.M.': {
        titles: ['1. Reasons', '2. Puzzle (Feat. Paloalto, Okasian)', '3. 2017', '4. mmm (Feat. nafla)', '5. 작업 (Feat. Loopy, pH-1)', '6. Hip Hop', '7. 연예인', '8. M.O.N.E.Y. (Money Over Nature Eating Youth)', '9. 긍정 (Feat. ELO, L.I.V.E.)', '10. 11 in morning'],
        image: './img/album/POEM.png',
        description: '래퍼의 생각은 가사를 통해 드러난다. 오왼 오바도즈는 가사 한 줄 허투루 내뱉지 않는다. 단어 하나하나에 심혈을 기울여 탄생한 가사에는 오왼의 진정성, 진중한 태도가 묻어난다.',
        date: '2016.01.15',
        trackCount: 10,
        duration: '36:32'
    },
    'PROBLEMATIC': {
        titles: ['1. Kurt Cobain', '2. 2005 (feat. DJ Tiz)', '3. Youth', '4. Yellow Iverson', '5. Can I Get The Silver One Please', '6. Camel Crush', '7. Peter', '8. Glendale', '9. !@#$ (feat. lee ba da)', '10. My Amy (feat. lee ba da)', '11. ostentaion (feat. Neil)', '12. MKIT RAIN', '13. FOG (feat. AP)', '14. CLOUD 9 (feat. pH-1)', '15. POSING (feat. Thama)', '16. BACK THEN (feat. Don Malik)'],
        image: './img/album/PROBLEMATIC.png',
        description: '그의 유니크한 목소리 톤과 붐뱀에 특화된 자신만의 느낌도 인상적이지만 지금의 시대상과 개인의 아픔, 문제 많은 자신에 관해 솔직하게 이야기하는 그의 가사에 집중해서 들어 보길 바란다.',
        date: '2017.08.27',
        trackCount: 18,
        duration: '45:34'
    },
    'CHANGES': {
        titles: ['1. Light my problems away', '2. Special', '3. Daily routine', '4. hunnit$', '5. incomplete (feat. pH-1)', '6. ticktock', '7. changes (Feat. Loopy)', '8. forthenight', '9. player\'s passionate (Feat. EK, Yohan)', '10. dirt (Feat. pH-1)', '11. you ain\'t fly', '12. MAMA'],
        image: './img/album/changes.png',
        description: '앨범의 주제는 제목 그대로  \'변화\' 가 중점이다. 전작인 Problematic 에서 문제 많은 자신이 변화하겠다는 마음이 담긴 앨범이다. 스스로의 삶에 일으킨 변화를 토대로 하되 트랙마다 주제는 달리 했다.',
        date: '2018.04.20',
        trackCount: 12,
        duration: '46:30'
    },
    'P.O.E.M._II': {
        titles: ['1. spread love', '2. night ride', '3. Diamonds', '4. foolish heart', '5. 4youreyezonly', '6. pretty Jane', '7. what the fun', '8. away (feat. nafla)', '9. Holy', '10. flex (feat. Young West)', '11. possession', '12. thoughts'],
        image: './img/album/POEM II.png',
        description: '많은 대중들에게 명반으로 인정받은 P.O.E.M.의 두 번째 시리즈다. \'P.O.E.M.\' 은  \'Piece Of Evolutionary Mind\' 의 줄임말로, 이 앨범을 통해 오왼 오바도즈는 자신과 그의 가족, 사랑, 희로애락, 생각, 감정 등 모든 부분에 대해 이야기를 이어나간다.',
        date: '2019.03.19',
        trackCount: 12,
        duration: '44:47'
    },
    'SMILE' : {
        titles : [],
        image : './img/album/SMILE.png',
        description: '',
        date: '2019.11.14',
        trackCount: 16,
        duration: '54:18'
    }
};

const selectedAlbum = albumData[receivedData];

if (selectedAlbum) {
    document.querySelector('.albumImage').src = selectedAlbum.image;
    document.querySelector('.albumTitle').textContent = receivedData.replace(/_/g, ' ');
    document.querySelector('.albumDescription').textContent = selectedAlbum.description;
    document.querySelector('.albumDetails').textContent = `${selectedAlbum.date} | ${selectedAlbum.trackCount}곡 | ${selectedAlbum.duration}`;
    
    const musicContainer = document.querySelector('.musics');
    selectedAlbum.titles.forEach(title => {
        const musicItem = document.createElement('div');
        musicItem.className = 'music';
        musicItem.textContent = title;
        musicContainer.appendChild(musicItem);
    });
} else {
    console.error('Invalid album data or album not found');
}

function applyFontStylesToMixedText(selector) {
    document.querySelectorAll(selector).forEach(el => {
        if (el.tagName.toLowerCase() === 'h1') {
            return;
        }

        const text = el.textContent;
        const splitText = text.split(/([\u3131-\uD79D]+)/g);
        el.innerHTML = '';

        splitText.forEach(part => {
            const span = document.createElement('span');
            if (/[\u3131-\uD79D]/.test(part)) {
                span.style.fontFamily = 'Inter, sans-serif';
                span.className = 'korean';
            } else {
                span.style.fontFamily = 'Bebas Neue, sans-serif';
                span.className = 'english';
            }
            span.textContent = part;
            el.appendChild(span);
        });
    });
}


document.addEventListener('DOMContentLoaded', () => {
    applyFontStylesToMixedText('.albumTitle');
    applyFontStylesToMixedText('.albumDescription');
    applyFontStylesToMixedText('.music');
});

</script>
</html>
